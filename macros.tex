\usetikzlibrary{arrows}

\numberwithin{equation}{chapter}
\declaretheoremstyle[bodyfont=\it,qed=$\qed$]{noproofstyle} 

\declaretheorem[numberlike=equation]{axiom}
\declaretheorem[numberlike=equation]{observation}
\declaretheorem[numberlike=equation]{fact}
\declaretheorem[numberlike=equation]{subclaim}
\declaretheorem[numberlike=equation]{problem}

\declaretheorem[numberlike=equation]{theorem}
\declaretheorem[numberlike=equation,name=Theorem,style=noproofstyle]{theoremwp}
\declaretheorem[numberlike=equation]{lemma}
\declaretheorem[numberlike=equation,name=Lemma,style=noproofstyle]{lemmawp}
\declaretheorem[numberlike=equation]{corollary}
\declaretheorem[numberlike=equation,name=Corollary,style=noproofstyle]{corollarywp}
\declaretheorem[numberlike=equation]{proposition}
\declaretheorem[numberlike=equation]{claim}
\declaretheorem[numberlike=equation]{conjecture}
\declaretheorem[numberlike=equation]{question}

\declaretheorem[unnumbered,name=Theorem,style=noproofstyle]{theorem*}
\declaretheorem[unnumbered,name=Lemma,style=noproofstyle]{lemma*}
\declaretheorem[unnumbered,name=Corollary,style=noproofstyle]{corollary*}
\declaretheorem[unnumbered,name=Proposition,style=noproofstyle]{proposition*}

\declaretheorem[unnumbered,name=Claim]{claim*}
\declaretheorem[unnumbered,name=Conjecture]{conjecture*}
\declaretheorem[unnumbered,name=Question]{question*}

\declaretheorem[name=Open Problem]{openproblem}
\declaretheorem[name=Exercise]{exercise}
\numberwithin{openproblem}{chapter}
\numberwithin{exercise}{chapter}

\newenvironment{oneshot}[1]{\@begintheorem{#1}{\unskip}}{\@endtheorem}

\declaretheorem[name=Theorem,style=noproofstyle]{thmm}

%\theoremstyle{definition}
\declaretheoremstyle[bodyfont=\it,qed=$\lozenge$]{defstyle} 
\declaretheorem[numberlike=equation,style=defstyle]{definition}
\declaretheorem[unnumbered,name=Definition,style=defstyle]{definition*}
\declaretheorem[numberlike=equation,style=defstyle]{example}
\declaretheorem[unnumbered,name=Example,style=defstyle]{example*}
\declaretheorem[numberlike=equation,style=defstyle]{notation}
\declaretheorem[unnumbered,name=Notation=defstyle]{notation*}
\declaretheorem[numberlike=equation,style=defstyle]{construction}
\declaretheorem[unnumbered,name=Construction,style=defstyle]{construction*}

\declaretheorem[numberlike=equation,style=defstyle]{remark}
\declaretheorem[unnumbered,name=Remark,style=defstyle]{remark*}

\renewcommand{\subsectionautorefname}{Subsection}
\renewcommand{\sectionautorefname}{Section}


\newenvironment{myproof}[1]%
{\vspace{1ex}\noindent{\em Proof.}\hspace{0.5em}\def\myproof@name{#1}}%
{\hfill{\tiny \qed\ (\myproof@name)}\vspace{1ex}}


% %Useful for recalling theorems. (hat-tip texexchange)
% \makeatletter
% \newtheorem*{rep@theorem}{\rep@title}
% \newcommand{\newreptheorem}[2]{%
% \newenvironment{rep#1}[1]{%
%  \def\rep@title{#2 \ref{##1} (restated)}%
%  \begin{rep@theorem}}%
%  {\end{rep@theorem}}}
% \makeatother

% \newreptheorem{theorem}{Theorem}
% \newreptheorem{lemma}{Lemma}
% \newreptheorem{conjecture}{Conjecture}
% \newreptheorem{problem}{Problem}


\newenvironment{proof-sketch}{\medskip\noindent{\em Sketch of Proof.}\hspace*{1em}}{\qed\bigskip}
\newenvironment{proof-attempt}{\medskip\noindent{\em Proof attempt.}\hspace*{1em}}{\bigskip}
\newenvironment{proofof}[1]{\medskip\noindent\emph{Proof of #1.}\hspace*{1em}}{\qed\bigskip}



\newcommand{\inparen }[1]{\left(#1\right)}             %\inparen{x+y}  is (x+y)
\newcommand{\inbrace }[1]{\left\{#1\right\}}           %\inbrace{x+y}  is {x+y}
\newcommand{\insquare}[1]{\left[#1\right]}             %\insquar{x+y}  is [x+y]
\newcommand{\inangle }[1]{\left\langle#1\right\rangle} %\inangle{A}    is <A>

\newcommand{\abs}[1]{\left|#1\right|}                  %\abs{x}        is |x|
\newcommand{\norm}[1]{\left\Vert#1\right\Vert}         %\norm{x}       is ||x||

\newcommand{\fspan}[1]{\F\text{-span}\inbrace{#1}}

\newcommand{\union}{\cup}
\newcommand{\Union}{\bigcup}
\newcommand{\intersection}{\cap}
\newcommand{\Intersection}{\bigcap}

\newcommand{\ceil}[1]{\lceil #1 \rceil}
\newcommand{\floor}[1]{\lfloor #1 \rfloor}


\newcommand{\eqdef}{\stackrel{\text{def}}{=}}
\newcommand{\setdef}[2]{\inbrace{{#1}\ : \ {#2}}}      % E.g: \setdef{x}{f(x) = 0}
\newcommand{\set}[1]{\inbrace{#1}}
\newcommand{\innerproduct}[2]{\left\langle{#1},{#2}\right\rangle} %\innerproduct{x}{y} is <x,y>.
\newcommand{\zo}{\inbrace{0,1}}                        % Well just something that is used often!
\newcommand{\parderiv}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\pderiv}[2]{\partial_{#2}\inparen{#1}}
\newcommand{\zof}[2]{\inbrace{0,1}^{#1}\longrightarrow \inbrace{0,1}^{#2}}

\newcommand*{\mywedge}{\mathord{\wedge}}


% Commonly used blackboard letters
\newcommand{\FF}{\mathbb{F}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\E}{\mathbb{E}}


\newcommand{\zigzag}{\textcircled{z}}  % for the zig-zag product
\newcommand{\poly}{\mathrm{poly}}
\newcommand{\rank}{\mathrm{rank}}


% \newcommand{\char}{\textrm{char}}
% \newcommand{\rank}{\textrm{rank}}
% \newcommand{\dim}{\textrm{dim}}



%% accented words
\newcommand{\Hastad}{H{\aa}stad }
\newcommand{\Godel}{G\"{o}del }
\newcommand{\Mobius}{M\"{o}bius }
\newcommand{\Gauss}{Gau{\ss} }
\newcommand{\naive}{na\"{\i}ve }
\newcommand{\Naive}{Na\"{\i}ve }
\newcommand{\grobner}{gr\"{o}bner }
\newcommand{\bezout}{b\'{e}zout}
\newcommand{\Bezout}{B\'{e}zout}



\newcommand{\Det}{\mathsf{Det}}
\newcommand{\Perm}{\mathsf{Perm}}
\newcommand{\ESym}{\mathsf{Sym}}
\newcommand{\PSym}{\mathsf{Pow}}
\newcommand{\NW}{\mathrm{NW}}
\newcommand{\IMM}{\mathrm{IMM}}


%% Bold letters
\newcommand{\veca}{\mathbf{a}}
\newcommand{\vecb}{\mathbf{b}}
\newcommand{\vecc}{\mathbf{c}}
\newcommand{\vecd}{\mathbf{d}}
\newcommand{\vece}{\mathbf{e}}
\newcommand{\vecf}{\mathbf{f}}
\newcommand{\vecg}{\mathbf{g}}
\newcommand{\vech}{\mathbf{h}}
\newcommand{\veci}{\mathbf{i}}
\newcommand{\vecj}{\mathbf{j}}
\newcommand{\veck}{\mathbf{k}}
\newcommand{\vecl}{\mathbf{l}}
\newcommand{\vecm}{\mathbf{m}}
\newcommand{\vecn}{\mathbf{n}}
\newcommand{\veco}{\mathbf{o}}
\newcommand{\vecp}{\mathbf{p}}
\newcommand{\vecq}{\mathbf{q}}
\newcommand{\vecr}{\mathbf{r}}
\newcommand{\vecs}{\mathbf{s}}
\newcommand{\vect}{\mathbf{t}}
\newcommand{\vecu}{\mathbf{u}}
\newcommand{\vecv}{\mathbf{v}}
\newcommand{\vecw}{\mathbf{w}}
\newcommand{\vecx}{\mathbf{x}}
\newcommand{\vecy}{\mathbf{y}}
\newcommand{\vecz}{\mathbf{z}}

\newcommand{\spaced}[1]{\quad #1 \quad}


%%% Circuit classes
\newcommand{\SPS}{\Sigma\Pi\Sigma}
\newcommand{\SPSP}{\Sigma\Pi\Sigma\Pi}
\newcommand{\SPSE}{\Sigma\Pi\Sigma\mathord{\wedge}}
\newcommand{\SPSPfanin}[2]{\Sigma\Pi^{[#1]}\Sigma\Pi^{[#2]}}
\newcommand{\SPSPsupp}[1]{\Sigma\Pi\Sigma\Pi^{\{#1\}}}
\newcommand{\SESES}{\Sigma\mathord{\wedge}\Sigma\mathord{\wedge}\Sigma}
\newcommand{\SES}{\Sigma\mathord{\wedge}\Sigma}
\newcommand{\SESE}{\Sigma\mathord{\wedge}\Sigma\mathord{\wedge}}

%%% Some complexity classes. (Don't want to include complexity.sty jsut for this. Messes up with \R etc.
\newcommand{\VP}{\mathsf{VP}}
\newcommand{\VNP}{\mathsf{VNP}}
\newcommand{\NP}{\mathsf{NP}}
\newcommand{\BPP}{\mathsf{BPP}}
\renewcommand{\P}{\mathsf{P}}


\newcommand{\FM}{\mathrm{FM}}
\newcommand{\Mon}{\mathrm{Mon}}
\newcommand{\CM}[1]{\Gamma^{\mathrm{[#1]}}}
\newcommand{\SPD}[3]{\inangle{\partial^{=#1}\inparen{#3}}_{\leq #2}}
\newcommand{\mySPSP}[2]{\Sigma\Pi^{[#1]}\Sigma\Pi^{[#2]}}

\newcommand{\pfrac}[2]{\inparen{\frac{#1}{#2}}}

\renewcommand{\epsilon}{\varepsilon}